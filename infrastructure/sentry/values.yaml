# Sentry self-hosted Helm values
# Uses external databases managed by operators
hostname: sentry.ops.last-try.org

# External databases (managed by operators)
clickhouse:
  host: sentry-clickhouse-sentry-0.sentry-system.svc.cluster.local
  port: 9000
  # ClickHouse managed by Altinity operator

kafka:
  # Bootstrap servers for Strimzi Kafka
  bootstrapServers:
    - "sentry-kafka-kafka-bootstrap.sentry-system.svc.cluster.local:9092"
  # Kafka managed by Strimzi operator

postgres:
  host: sentry-postgres-rw.sentry-system.svc.cluster.local
  port: 5432
  database: sentry
  user: sentry
  # PostgreSQL managed by CloudNativePG

redis:
  host: sentry-valkey-master.sentry-system.svc.cluster.local
  port: 6379
  # Valkey managed by SAP operator

# Disable user registration, require SSO
auth:
  register: false

# Resource limits for single-node cluster
resources:
  requests:
    cpu: 500m
    memory: 1Gi
  limits:
    cpu: 2000m
    memory: 4Gi

# Enable metrics for Prometheus
serviceMonitor:
  enabled: true
